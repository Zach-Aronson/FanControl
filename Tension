from gpiozero import Servo
from gpiozero.pins.pigpio import PiGPIOFactory
from time import sleep

# Setup
factory = PiGPIOFactory()
servo = Servo(24, min_pulse_width=0.0006, max_pulse_width=0.0024, pin_factory=factory)

def move_to_angle(degrees):
    value = (degrees - 90) / 90  # Convert to -1 to 1
    servo.value = value
    print(f"Servo moved to {degrees}° (value = {value})")

# Move to 60°
move_to_angle(60)
sleep(5)

# Return to 90° (starting position)
move_to_angle(90)
sleep(1)

# Stop sending signal
servo.detach()
print("Movement complete. Servo detached.")

