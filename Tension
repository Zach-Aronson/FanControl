from gpiozero import Servo, Button
from gpiozero.pins.pigpio import PiGPIOFactory
from signal import pause
from time import sleep

# Setup
factory = PiGPIOFactory()
servo = Servo(24, min_pulse_width=0.0006, max_pulse_width=0.0024, pin_factory=factory)
switch = Button(18, pull_up=False)  # Active HIGH, uses internal pull-down

def to_sixty_degrees():
    # 60 degrees = (60 - 90) / 90 = -0.333
    servo.value = -0.333
    print("Switch OFF: Servo to 60°")

def to_base_position():
    servo.value = 0  # Base = 90 degrees
    print("Switch ON: Servo to base (90°)")

# Link switch events
switch.when_pressed = to_base_position
switch.when_released = to_sixty_degrees

# Start at 60 degrees
to_sixty_degrees()

pause()  # Keeps the script running
)

